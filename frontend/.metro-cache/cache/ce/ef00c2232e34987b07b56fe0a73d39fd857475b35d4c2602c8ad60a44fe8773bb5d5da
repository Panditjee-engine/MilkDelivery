{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":38,"index":198}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        await _servicesApi.api.init();\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          const userData = await _servicesApi.api.getMe();\n          setUser(userData);\n        }\n      } catch (error) {\n        console.log('Auth check failed:', error);\n        await AsyncStorage.default.removeItem('auth_token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await _servicesApi.api.login(email, password);\n      setUser(response.user);\n    };\n    const register = async data => {\n      const response = await _servicesApi.api.register(data);\n      setUser(response.user);\n    };\n    const logout = async () => {\n      _servicesApi.api.logout();\n      setUser(null);\n    };\n    const updateUser = data => {\n      if (user) {\n        setUser({\n          ...user,\n          ...data\n        });\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":87,"map":[[13,2,27,0,"exports"],[13,9,27,0],[13,10,27,0,"AuthProvider"],[13,22,27,0],[13,25,27,0,"AuthProvider"],[13,37,27,0],[14,2,79,0,"exports"],[14,9,79,0],[14,10,79,0,"useAuth"],[14,17,79,0],[14,20,79,0,"useAuth"],[14,27,79,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_servicesApi"],[18,18,3,0],[18,21,3,0,"require"],[18,28,3,0],[18,29,3,0,"_dependencyMap"],[18,43,3,0],[19,2,3,38],[19,6,3,38,"_reactJsxDevRuntime"],[19,25,3,38],[19,28,3,38,"require"],[19,35,3,38],[19,36,3,38,"_dependencyMap"],[19,50,3,38],[20,2,25,0],[20,8,25,6,"AuthContext"],[20,19,25,17],[20,35,25,20],[20,39,25,20,"createContext"],[20,45,25,33],[20,46,25,33,"createContext"],[20,59,25,33],[20,61,25,63,"undefined"],[20,70,25,72],[20,71,25,73],[21,2,27,7],[21,11,27,16,"AuthProvider"],[21,23,27,28,"AuthProvider"],[21,24,27,29],[22,4,27,31,"children"],[23,2,27,65],[23,3,27,66],[23,5,27,68],[24,4,28,2],[24,10,28,8],[24,11,28,9,"user"],[24,15,28,13],[24,17,28,15,"setUser"],[24,24,28,22],[24,25,28,23],[24,28,28,26],[24,32,28,26,"useState"],[24,38,28,34],[24,39,28,34,"useState"],[24,47,28,34],[24,49,28,48],[24,53,28,52],[24,54,28,53],[25,4,29,2],[25,10,29,8],[25,11,29,9,"loading"],[25,18,29,16],[25,20,29,18,"setLoading"],[25,30,29,28],[25,31,29,29],[25,34,29,32],[25,38,29,32,"useState"],[25,44,29,40],[25,45,29,40,"useState"],[25,53,29,40],[25,55,29,41],[25,59,29,45],[25,60,29,46],[26,4,31,2],[26,8,31,2,"useEffect"],[26,14,31,11],[26,15,31,11,"useEffect"],[26,24,31,11],[26,26,31,12],[26,32,31,18],[27,6,32,4,"checkAuth"],[27,15,32,13],[27,16,32,14],[27,17,32,15],[28,4,33,2],[28,5,33,3],[28,7,33,5],[28,9,33,7],[28,10,33,8],[29,4,35,2],[29,10,35,8,"checkAuth"],[29,19,35,17],[29,22,35,20],[29,28,35,20,"checkAuth"],[29,29,35,20],[29,34,35,32],[30,6,36,4],[30,10,36,8],[31,8,37,6],[31,14,37,12,"api"],[31,26,37,15],[31,27,37,15,"api"],[31,30,37,15],[31,31,37,16,"init"],[31,35,37,20],[31,36,37,21],[31,37,37,22],[32,8,38,6],[32,14,38,12,"token"],[32,19,38,17],[32,22,38,20],[32,28,38,26,"AsyncStorage"],[32,40,38,38],[32,41,38,38,"default"],[32,48,38,38],[32,49,38,39,"getItem"],[32,56,38,46],[32,57,38,47],[32,69,38,59],[32,70,38,60],[33,8,39,6],[33,12,39,10,"token"],[33,17,39,15],[33,19,39,17],[34,10,40,8],[34,16,40,14,"userData"],[34,24,40,22],[34,27,40,25],[34,33,40,31,"api"],[34,45,40,34],[34,46,40,34,"api"],[34,49,40,34],[34,50,40,35,"getMe"],[34,55,40,40],[34,56,40,41],[34,57,40,42],[35,10,41,8,"setUser"],[35,17,41,15],[35,18,41,16,"userData"],[35,26,41,24],[35,27,41,25],[36,8,42,6],[37,6,43,4],[37,7,43,5],[37,8,43,6],[37,15,43,13,"error"],[37,20,43,18],[37,22,43,20],[38,8,44,6,"console"],[38,15,44,13],[38,16,44,14,"log"],[38,19,44,17],[38,20,44,18],[38,40,44,38],[38,42,44,40,"error"],[38,47,44,45],[38,48,44,46],[39,8,45,6],[39,14,45,12,"AsyncStorage"],[39,26,45,24],[39,27,45,24,"default"],[39,34,45,24],[39,35,45,25,"removeItem"],[39,45,45,35],[39,46,45,36],[39,58,45,48],[39,59,45,49],[40,6,46,4],[40,7,46,5],[40,16,46,14],[41,8,47,6,"setLoading"],[41,18,47,16],[41,19,47,17],[41,24,47,22],[41,25,47,23],[42,6,48,4],[43,4,49,2],[43,5,49,3],[44,4,51,2],[44,10,51,8,"login"],[44,15,51,13],[44,18,51,16],[44,24,51,16,"login"],[44,25,51,23,"email"],[44,30,51,36],[44,32,51,38,"password"],[44,40,51,54],[44,45,51,59],[45,6,52,4],[45,12,52,10,"response"],[45,20,52,18],[45,23,52,21],[45,29,52,27,"api"],[45,41,52,30],[45,42,52,30,"api"],[45,45,52,30],[45,46,52,31,"login"],[45,51,52,36],[45,52,52,37,"email"],[45,57,52,42],[45,59,52,44,"password"],[45,67,52,52],[45,68,52,53],[46,6,53,4,"setUser"],[46,13,53,11],[46,14,53,12,"response"],[46,22,53,20],[46,23,53,21,"user"],[46,27,53,25],[46,28,53,26],[47,4,54,2],[47,5,54,3],[48,4,56,2],[48,10,56,8,"register"],[48,18,56,16],[48,21,56,19],[48,27,56,26,"data"],[48,31,56,35],[48,35,56,40],[49,6,57,4],[49,12,57,10,"response"],[49,20,57,18],[49,23,57,21],[49,29,57,27,"api"],[49,41,57,30],[49,42,57,30,"api"],[49,45,57,30],[49,46,57,31,"register"],[49,54,57,39],[49,55,57,40,"data"],[49,59,57,44],[49,60,57,45],[50,6,58,4,"setUser"],[50,13,58,11],[50,14,58,12,"response"],[50,22,58,20],[50,23,58,21,"user"],[50,27,58,25],[50,28,58,26],[51,4,59,2],[51,5,59,3],[52,4,61,2],[52,10,61,8,"logout"],[52,16,61,14],[52,19,61,17],[52,25,61,17,"logout"],[52,26,61,17],[52,31,61,29],[53,6,62,4,"api"],[53,18,62,7],[53,19,62,7,"api"],[53,22,62,7],[53,23,62,8,"logout"],[53,29,62,14],[53,30,62,15],[53,31,62,16],[54,6,63,4,"setUser"],[54,13,63,11],[54,14,63,12],[54,18,63,16],[54,19,63,17],[55,4,64,2],[55,5,64,3],[56,4,66,2],[56,10,66,8,"updateUser"],[56,20,66,18],[56,23,66,22,"data"],[56,27,66,41],[56,31,66,46],[57,6,67,4],[57,10,67,8,"user"],[57,14,67,12],[57,16,67,14],[58,8,68,6,"setUser"],[58,15,68,13],[58,16,68,14],[59,10,68,16],[59,13,68,19,"user"],[59,17,68,23],[60,10,68,25],[60,13,68,28,"data"],[61,8,68,33],[61,9,68,34],[61,10,68,35],[62,6,69,4],[63,4,70,2],[63,5,70,3],[64,4,72,2],[64,24,73,4],[64,28,73,4,"_reactJsxDevRuntime"],[64,47,73,4],[64,48,73,4,"jsxDEV"],[64,54,73,4],[64,56,73,5,"AuthContext"],[64,67,73,16],[64,68,73,17,"Provider"],[64,76,73,25],[65,6,73,26,"value"],[65,11,73,31],[65,13,73,33],[66,8,73,35,"user"],[66,12,73,39],[67,8,73,41,"loading"],[67,15,73,48],[68,8,73,50,"login"],[68,13,73,55],[69,8,73,57,"register"],[69,16,73,65],[70,8,73,67,"logout"],[70,14,73,73],[71,8,73,75,"updateUser"],[72,6,73,86],[72,7,73,88],[73,6,73,88,"children"],[73,14,73,88],[73,16,74,7,"children"],[74,4,74,15],[75,6,74,15,"fileName"],[75,14,74,15],[75,16,74,15,"_jsxFileName"],[75,28,74,15],[76,6,74,15,"lineNumber"],[76,16,74,15],[77,6,74,15,"columnNumber"],[77,18,74,15],[78,4,74,15],[78,11,75,26],[78,12,75,27],[79,2,77,0],[80,2,79,7],[80,11,79,16,"useAuth"],[80,18,79,23,"useAuth"],[80,19,79,23],[80,21,79,26],[81,4,80,2],[81,10,80,8,"context"],[81,17,80,15],[81,20,80,18],[81,24,80,18,"useContext"],[81,30,80,28],[81,31,80,28,"useContext"],[81,41,80,28],[81,43,80,29,"AuthContext"],[81,54,80,40],[81,55,80,41],[82,4,81,2],[82,8,81,6,"context"],[82,15,81,13],[82,20,81,18,"undefined"],[82,29,81,27],[82,31,81,29],[83,6,82,4],[83,12,82,10],[83,16,82,14,"Error"],[83,21,82,19],[83,22,82,20],[83,67,82,65],[83,68,82,66],[84,4,83,2],[85,4,84,2],[85,11,84,9,"context"],[85,18,84,16],[86,2,85,0],[87,0,85,1],[87,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;OC0B;YCI;GDE;oBEE;GFc;gBGE;GHG;mBIE;GJG;iBKE;GLG;qBME;GNI;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}