{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":91},"end":{"line":2,"column":69,"index":160}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":162},"end":{"line":3,"column":38,"index":200}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\MilkDelivery2\\\\MilkDelivery\\\\frontend\\\\src\\\\contexts\\\\AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[4], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider(_ref) {\n    _s();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    var checkAuth = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          yield _servicesApi.api.init();\n          var token = yield AsyncStorage.default.getItem('access_token');\n          if (token) {\n            var userData = yield _servicesApi.api.getMe();\n            setUser(userData);\n          } else {\n            setUser(null);\n          }\n        } catch (error) {\n          console.log('Auth check failed:', error);\n          setUser(null);\n          yield AsyncStorage.default.removeItem('access_token');\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function checkAuth() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var login = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (email, password) {\n        var response = yield _servicesApi.api.login(email, password);\n        setUser(response.user);\n      });\n      return function login(_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var register = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* (data) {\n        var response = yield _servicesApi.api.register(data);\n        setUser(response.user);\n      });\n      return function register(_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    var logout = /*#__PURE__*/function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* () {\n        console.log('LOGOUT FUNCTION CALLED');\n        yield _servicesApi.api.logout();\n        setUser(null);\n      });\n      return function logout() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    var updateUser = data => {\n      if (user) {\n        setUser({\n          ...user,\n          ...data\n        });\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    var context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":129,"map":[[15,2,27,0,"exports"],[15,9,27,0],[15,10,27,0,"AuthProvider"],[15,22,27,0],[15,25,27,0,"AuthProvider"],[15,37,27,0],[16,2,84,0,"exports"],[16,9,84,0],[16,10,84,0,"useAuth"],[16,17,84,0],[16,20,84,0,"useAuth"],[16,27,84,0],[17,2,90,1],[17,6,90,1,"_babelRuntimeHelpersAsyncToGenerator"],[17,42,90,1],[17,45,90,1,"require"],[17,52,90,1],[17,53,90,1,"_dependencyMap"],[17,67,90,1],[18,2,90,1],[18,6,90,1,"_asyncToGenerator"],[18,23,90,1],[18,26,90,1,"_interopDefault"],[18,41,90,1],[18,42,90,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,78,90,1],[19,2,90,1],[19,6,90,1,"_babelRuntimeHelpersSlicedToArray"],[19,39,90,1],[19,42,90,1,"require"],[19,49,90,1],[19,50,90,1,"_dependencyMap"],[19,64,90,1],[20,2,90,1],[20,6,90,1,"_slicedToArray"],[20,20,90,1],[20,23,90,1,"_interopDefault"],[20,38,90,1],[20,39,90,1,"_babelRuntimeHelpersSlicedToArray"],[20,72,90,1],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,2,0],[22,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,2,0],[22,45,2,0,"require"],[22,52,2,0],[22,53,2,0,"_dependencyMap"],[22,67,2,0],[23,2,2,0],[23,6,2,0,"AsyncStorage"],[23,18,2,0],[23,21,2,0,"_interopDefault"],[23,36,2,0],[23,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,2,0],[24,2,3,0],[24,6,3,0,"_servicesApi"],[24,18,3,0],[24,21,3,0,"require"],[24,28,3,0],[24,29,3,0,"_dependencyMap"],[24,43,3,0],[25,2,3,38],[25,6,3,38,"_reactJsxDevRuntime"],[25,25,3,38],[25,28,3,38,"require"],[25,35,3,38],[25,36,3,38,"_dependencyMap"],[25,50,3,38],[26,2,25,0],[26,6,25,6,"AuthContext"],[26,17,25,17],[26,33,25,20],[26,37,25,20,"createContext"],[26,43,25,33],[26,44,25,33,"createContext"],[26,57,25,33],[26,59,25,63,"undefined"],[26,68,25,72],[26,69,25,73],[27,2,27,7],[27,11,27,16,"AuthProvider"],[27,23,27,28,"AuthProvider"],[27,24,27,28,"_ref"],[27,28,27,28],[27,30,27,68],[28,4,27,68,"_s"],[28,6,27,68],[29,4,27,68],[29,8,27,31,"children"],[29,16,27,39],[29,19,27,39,"_ref"],[29,23,27,39],[29,24,27,31,"children"],[29,32,27,39],[30,4,28,2],[30,8,28,2,"_useState"],[30,17,28,2],[30,20,28,26],[30,24,28,26,"useState"],[30,30,28,34],[30,31,28,34,"useState"],[30,39,28,34],[30,41,28,48],[30,45,28,52],[30,46,28,53],[31,6,28,53,"_useState2"],[31,16,28,53],[31,23,28,53,"_slicedToArray"],[31,37,28,53],[31,38,28,53,"default"],[31,45,28,53],[31,47,28,53,"_useState"],[31,56,28,53],[32,6,28,9,"user"],[32,10,28,13],[32,13,28,13,"_useState2"],[32,23,28,13],[33,6,28,15,"setUser"],[33,13,28,22],[33,16,28,22,"_useState2"],[33,26,28,22],[34,4,29,2],[34,8,29,2,"_useState3"],[34,18,29,2],[34,21,29,32],[34,25,29,32,"useState"],[34,31,29,40],[34,32,29,40,"useState"],[34,40,29,40],[34,42,29,41],[34,46,29,45],[34,47,29,46],[35,6,29,46,"_useState4"],[35,16,29,46],[35,23,29,46,"_slicedToArray"],[35,37,29,46],[35,38,29,46,"default"],[35,45,29,46],[35,47,29,46,"_useState3"],[35,57,29,46],[36,6,29,9,"loading"],[36,13,29,16],[36,16,29,16,"_useState4"],[36,26,29,16],[37,6,29,18,"setLoading"],[37,16,29,28],[37,19,29,28,"_useState4"],[37,29,29,28],[38,4,31,2],[38,8,31,2,"useEffect"],[38,14,31,11],[38,15,31,11,"useEffect"],[38,24,31,11],[38,26,31,12],[38,32,31,18],[39,6,32,4,"checkAuth"],[39,15,32,13],[39,16,32,14],[39,17,32,15],[40,4,33,2],[40,5,33,3],[40,7,33,5],[40,9,33,7],[40,10,33,8],[41,4,35,2],[41,8,35,8,"checkAuth"],[41,17,35,17],[42,6,35,17],[42,10,35,17,"_ref2"],[42,15,35,17],[42,22,35,17,"_asyncToGenerator"],[42,39,35,17],[42,40,35,17,"default"],[42,47,35,17],[42,49,35,20],[42,62,35,32],[43,8,36,2],[43,12,36,6],[44,10,37,4],[44,16,37,10,"api"],[44,28,37,13],[44,29,37,13,"api"],[44,32,37,13],[44,33,37,14,"init"],[44,37,37,18],[44,38,37,19],[44,39,37,20],[45,10,38,4],[45,14,38,10,"token"],[45,19,38,15],[45,28,38,24,"AsyncStorage"],[45,40,38,36],[45,41,38,36,"default"],[45,48,38,36],[45,49,38,37,"getItem"],[45,56,38,44],[45,57,38,45],[45,71,38,59],[45,72,38,60],[46,10,40,4],[46,14,40,8,"token"],[46,19,40,13],[46,21,40,15],[47,12,41,6],[47,16,41,12,"userData"],[47,24,41,20],[47,33,41,29,"api"],[47,45,41,32],[47,46,41,32,"api"],[47,49,41,32],[47,50,41,33,"getMe"],[47,55,41,38],[47,56,41,39],[47,57,41,40],[48,12,42,6,"setUser"],[48,19,42,13],[48,20,42,14,"userData"],[48,28,42,22],[48,29,42,23],[49,10,43,4],[49,11,43,5],[49,17,43,11],[50,12,44,6,"setUser"],[50,19,44,13],[50,20,44,14],[50,24,44,18],[50,25,44,19],[51,10,45,4],[52,8,46,2],[52,9,46,3],[52,10,46,4],[52,17,46,11,"error"],[52,22,46,16],[52,24,46,18],[53,10,47,4,"console"],[53,17,47,11],[53,18,47,12,"log"],[53,21,47,15],[53,22,47,16],[53,42,47,36],[53,44,47,38,"error"],[53,49,47,43],[53,50,47,44],[54,10,48,4,"setUser"],[54,17,48,11],[54,18,48,12],[54,22,48,16],[54,23,48,17],[55,10,49,4],[55,16,49,10,"AsyncStorage"],[55,28,49,22],[55,29,49,22,"default"],[55,36,49,22],[55,37,49,23,"removeItem"],[55,47,49,33],[55,48,49,34],[55,62,49,48],[55,63,49,49],[56,8,50,2],[56,9,50,3],[56,18,50,12],[57,10,51,4,"setLoading"],[57,20,51,14],[57,21,51,15],[57,26,51,20],[57,27,51,21],[58,8,52,2],[59,6,53,0],[59,7,53,1],[60,6,53,1],[60,22,35,8,"checkAuth"],[60,31,35,17,"checkAuth"],[60,32,35,17],[61,8,35,17],[61,15,35,17,"_ref2"],[61,20,35,17],[61,21,35,17,"apply"],[61,26,35,17],[61,33,35,17,"arguments"],[61,42,35,17],[62,6,35,17],[63,4,35,17],[63,7,53,1],[64,4,54,2],[64,8,54,8,"login"],[64,13,54,13],[65,6,54,13],[65,10,54,13,"_ref3"],[65,15,54,13],[65,22,54,13,"_asyncToGenerator"],[65,39,54,13],[65,40,54,13,"default"],[65,47,54,13],[65,49,54,16],[65,60,54,23,"email"],[65,65,54,36],[65,67,54,38,"password"],[65,75,54,54],[65,77,54,59],[66,8,55,4],[66,12,55,10,"response"],[66,20,55,18],[66,29,55,27,"api"],[66,41,55,30],[66,42,55,30,"api"],[66,45,55,30],[66,46,55,31,"login"],[66,51,55,36],[66,52,55,37,"email"],[66,57,55,42],[66,59,55,44,"password"],[66,67,55,52],[66,68,55,53],[67,8,56,4,"setUser"],[67,15,56,11],[67,16,56,12,"response"],[67,24,56,20],[67,25,56,21,"user"],[67,29,56,25],[67,30,56,26],[68,6,57,2],[68,7,57,3],[69,6,57,3],[69,22,54,8,"login"],[69,27,54,13,"login"],[69,28,54,13,"_x"],[69,30,54,13],[69,32,54,13,"_x2"],[69,35,54,13],[70,8,54,13],[70,15,54,13,"_ref3"],[70,20,54,13],[70,21,54,13,"apply"],[70,26,54,13],[70,33,54,13,"arguments"],[70,42,54,13],[71,6,54,13],[72,4,54,13],[72,7,57,3],[73,4,59,2],[73,8,59,8,"register"],[73,16,59,16],[74,6,59,16],[74,10,59,16,"_ref4"],[74,15,59,16],[74,22,59,16,"_asyncToGenerator"],[74,39,59,16],[74,40,59,16,"default"],[74,47,59,16],[74,49,59,19],[74,60,59,26,"data"],[74,64,59,35],[74,66,59,40],[75,8,60,4],[75,12,60,10,"response"],[75,20,60,18],[75,29,60,27,"api"],[75,41,60,30],[75,42,60,30,"api"],[75,45,60,30],[75,46,60,31,"register"],[75,54,60,39],[75,55,60,40,"data"],[75,59,60,44],[75,60,60,45],[76,8,61,4,"setUser"],[76,15,61,11],[76,16,61,12,"response"],[76,24,61,20],[76,25,61,21,"user"],[76,29,61,25],[76,30,61,26],[77,6,62,2],[77,7,62,3],[78,6,62,3],[78,22,59,8,"register"],[78,30,59,16,"register"],[78,31,59,16,"_x3"],[78,34,59,16],[79,8,59,16],[79,15,59,16,"_ref4"],[79,20,59,16],[79,21,59,16,"apply"],[79,26,59,16],[79,33,59,16,"arguments"],[79,42,59,16],[80,6,59,16],[81,4,59,16],[81,7,62,3],[82,4,64,0],[82,8,64,6,"logout"],[82,14,64,12],[83,6,64,12],[83,10,64,12,"_ref5"],[83,15,64,12],[83,22,64,12,"_asyncToGenerator"],[83,39,64,12],[83,40,64,12,"default"],[83,47,64,12],[83,49,64,15],[83,62,64,27],[84,8,65,2,"console"],[84,15,65,9],[84,16,65,10,"log"],[84,19,65,13],[84,20,65,14],[84,44,65,38],[84,45,65,39],[85,8,66,2],[85,14,66,8,"api"],[85,26,66,11],[85,27,66,11,"api"],[85,30,66,11],[85,31,66,12,"logout"],[85,37,66,18],[85,38,66,19],[85,39,66,20],[86,8,67,2,"setUser"],[86,15,67,9],[86,16,67,10],[86,20,67,14],[86,21,67,15],[87,6,68,0],[87,7,68,1],[88,6,68,1],[88,22,64,6,"logout"],[88,28,64,12,"logout"],[88,29,64,12],[89,8,64,12],[89,15,64,12,"_ref5"],[89,20,64,12],[89,21,64,12,"apply"],[89,26,64,12],[89,33,64,12,"arguments"],[89,42,64,12],[90,6,64,12],[91,4,64,12],[91,7,68,1],[92,4,71,2],[92,8,71,8,"updateUser"],[92,18,71,18],[92,21,71,22,"data"],[92,25,71,41],[92,29,71,46],[93,6,72,4],[93,10,72,8,"user"],[93,14,72,12],[93,16,72,14],[94,8,73,6,"setUser"],[94,15,73,13],[94,16,73,14],[95,10,73,16],[95,13,73,19,"user"],[95,17,73,23],[96,10,73,25],[96,13,73,28,"data"],[97,8,73,33],[97,9,73,34],[97,10,73,35],[98,6,74,4],[99,4,75,2],[99,5,75,3],[100,4,77,2],[100,24,78,4],[100,28,78,4,"_reactJsxDevRuntime"],[100,47,78,4],[100,48,78,4,"jsxDEV"],[100,54,78,4],[100,56,78,5,"AuthContext"],[100,67,78,16],[100,68,78,17,"Provider"],[100,76,78,25],[101,6,78,26,"value"],[101,11,78,31],[101,13,78,33],[102,8,78,35,"user"],[102,12,78,39],[103,8,78,41,"loading"],[103,15,78,48],[104,8,78,50,"login"],[104,13,78,55],[105,8,78,57,"register"],[105,16,78,65],[106,8,78,67,"logout"],[106,14,78,73],[107,8,78,75,"updateUser"],[108,6,78,86],[108,7,78,88],[109,6,78,88,"children"],[109,14,78,88],[109,16,79,7,"children"],[110,4,79,15],[111,6,79,15,"fileName"],[111,14,79,15],[111,16,79,15,"_jsxFileName"],[111,28,79,15],[112,6,79,15,"lineNumber"],[112,16,79,15],[113,6,79,15,"columnNumber"],[113,18,79,15],[114,4,79,15],[114,11,80,26],[114,12,80,27],[115,2,82,0],[116,2,82,1,"_s"],[116,4,82,1],[116,5,27,16,"AuthProvider"],[116,17,27,28],[117,2,27,28,"_c"],[117,4,27,28],[117,7,27,16,"AuthProvider"],[117,19,27,28],[118,2,84,7],[118,11,84,16,"useAuth"],[118,18,84,23,"useAuth"],[118,19,84,23],[118,21,84,26],[119,4,84,26,"_s2"],[119,7,84,26],[120,4,85,2],[120,8,85,8,"context"],[120,15,85,15],[120,18,85,18],[120,22,85,18,"useContext"],[120,28,85,28],[120,29,85,28,"useContext"],[120,39,85,28],[120,41,85,29,"AuthContext"],[120,52,85,40],[120,53,85,41],[121,4,86,2],[121,8,86,6,"context"],[121,15,86,13],[121,20,86,18,"undefined"],[121,29,86,27],[121,31,86,29],[122,6,87,4],[122,12,87,10],[122,16,87,14,"Error"],[122,21,87,19],[122,22,87,20],[122,67,87,65],[122,68,87,66],[123,4,88,2],[124,4,89,2],[124,11,89,9,"context"],[124,18,89,16],[125,2,90,0],[126,2,90,1,"_s2"],[126,5,90,1],[126,6,84,16,"useAuth"],[126,13,84,23],[127,2,84,23],[127,6,84,23,"_c"],[127,8,84,23],[128,2,84,23,"$RefreshReg$"],[128,14,84,23],[128,15,84,23,"_c"],[128,17,84,23],[129,0,84,23],[129,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;OC0B;YCI;GDE;oBEE;CFkB;gBGC;GHG;mBIE;GJG;eKE;CLI;qBMG;GNI;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}